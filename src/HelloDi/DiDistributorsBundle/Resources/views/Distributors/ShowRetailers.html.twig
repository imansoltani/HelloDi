{% extends 'HelloDiDiDistributorsBundle:Menu:AdminDist.html.twig' %}

{% block title %}
    {{ 'Retailers' | trans ({}, "accounts") }}

{% endblock title %}

{% set MU = 'retail' %}

{% block Site_Map %}
    <a class="link" href="{{ path('distributors_dashboard') }}">{{ 'Home' | trans ({}, "menu") }}</a>
    <span class="link">{{ 'Retailers' | trans ({}, "accounts") }}</span>
{% endblock Site_Map %}

{% block PageTitle %}
    <i class="icon-th-large"></i>
    {{ 'Retailers' | trans ({}, "accounts") }}

{% endblock %}

{% block Link_Head %}

    <script type="text/javascript"
            src="{{ asset('bundles/hellodi/js/libs/jquery.dataTables.nightly.js') }}"></script>
    <script type="text/javascript"
            src="{{ asset('bundles/hellodi/js/libs/DataTable/ColReorder.js') }}"></script>
    <script type="text/javascript"
            src="{{ asset('bundles/hellodi/js/libs/DataTable/ColVis.js') }}"></script>


    <script type="text/javascript">

        $(document).ready(function () {
            Fix_Size();
        });

    </script>

{% endblock %}

{% block Body %}

    <div class="span">
        <div class="widget stacked ">
            <div class="widget-content">

                <a class="btn-large button btn btn-primary " href="{{ path('DistNewRetailer') }}">
                    {{ 'CreateRetailerWithEntity' | trans ({}, "accounts") }}

                </a>

                <div class="form_search">
                    <h5 style="cursor:pointer;" class="TitleShow1">
                        <span>
                            <i id="search_logo" class="icon-search"></i>
                            <p class="title_search">Search Retailer</p>
                        </span>
                    </h5>

                    <form class="form-horizontal SearchForm" action="{{ path('retailer_show',{}) }}" method="post">

                        <fieldset>


                            <div class="control-group">
                                {{ form_label(form_search.CityName) }}
                                <div class="controls">
                                    {{ form_widget(form_search.CityName) }}
                                </div>
                            </div>

                            <div class="control-group">

                                {{ form_label(form_search.Balance) }}

                                    <div class="controls">
                                        {{ form_widget(form_search.Balance) }}
                                        {{ form_widget(form_search.BalanceValue,{ 'attr' : {'onkeydown' : 'return ( event.ctrlKey || event.altKey
						|| (47<event.keyCode && event.keyCode<58 && event.shiftKey==false)
						|| (95<event.keyCode && event.keyCode<106)
						|| (event.keyCode==8) || (event.keyCode==9)
						|| (event.keyCode>34 && event.keyCode<40)
						|| (event.keyCode==46) )'} }) }}
                                    </div>


                            </div>


                            <input type="hidden" value="1" name="page" id="search_page">
                            <hr>
                            <input class="btn btn-primary" type="submit" value="{{ 'Search' | trans ({}, "common") }}">

                        </fieldset>

                    </form>
                    <script type="text/javascript">
                        $(function () {
                            Form_Search(0,"{{'Filter_List'|trans({},'js')  }}");

                        });
                    </script>

                </div>


                <div style="margin-top: 5px" class="tablediv">

                    {#<form action="{{ path('ManageItemsProv') }}" method="post">#}
                    <div class="tab-content datatable">
                        <table id="example" class="table postsend">
                            <thead>
                            <tr>
                                <th>{{ 'Id' | trans ({}, "common") }}</th>
                                <th>{{ 'Name' | trans ({}, "common") }}</th>
                                <th>{{ 'Entity' | trans ({}, "entity") }}</th>
                                <th>{{ 'Balance' | trans ({}, "accounts") }}</th>
                                <th>{{ 'CreditLimit' | trans ({}, "accounts") }}</th>
                                <th>{{ 'Operation' | trans ({}, "common") }}</th>
                            </tr>


                            <tr class="input">
                                <td><input type="text" name="search_Id" value="Search Id" class="search_init"/></td>

                                <td><input type="text" name="search_Name" value="Search Name" class="search_init"/></td>
                                <td><input type="text" name="search_Entity_Name" value="Search Entity Name"
                                           class="search_init"/></td>
                                <td><input type="text" name="search_Balance" value="Search Balance"
                                           class="search_init"/></td>

                                <td><input type="text" disabled="" name="search_Operation" value=""
                                           class="search_init"/></td>
                                <td><input type="text" disabled="" name="search_Operation" value=""
                                           class="search_init"/></td>
                            </tr>
                            </thead>

                            <tbody>
                            {% for myAccount in Retailers %}
                                <tr>
                                    <td style="font-weight: bold">{{ myAccount.id }}</td>

                                    <td>{{ myAccount.accName }}</td>
                                    <td>{{ myAccount.Entiti.entName }}</td>
                                    <td>{{ myAccount.accBalance }}|<b>{{ myAccount.accCurrency }}</b></td>
                                    <td>{{ myAccount.accCreditLimit }}</td>
                                    <td class="td-actions">
                                        <a class="btn_actions"
                                           href="{{ path('Retailer_Transaction',{'id':myAccount.id}) }}">{{ 'Manage' | trans ({}, "common") }}</a>
                                        {#<br/>#}
                                        {#<a class="btn_actions" href="{{ path('Retailer_edit',{'id':myAccount.id}) }}">Edit</a>#}
                                    </td>
                                </tr>
                            {% endfor %}
                            </tbody>
                        </table>
                    </div>
                    <input type="hidden" name="accountid" class="accountid" value=""/>

                    {#</form>#}
                </div>

            </div>
        </div>
    </div>


{% endblock %}
