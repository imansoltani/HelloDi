{% extends 'HelloDiDiDistributorsBundle:Tabs:ShowItemMaster.html.twig' %}

{% set tab = '2' %}

{% block title %}
    Items Management
{% endblock title %}

{% block Link_Head %}
    <link href='{{ asset('bundles/hellodi/js/libs/Editor/jHtmlArea.css') }}' rel='stylesheet' type='text/css'>
    <link href='{{ asset('bundles/hellodi/js/libs/Editor/jHtmlArea.ColorPickerMenu.css') }}' rel='stylesheet' type='text/css'>

{% endblock %}

{% block Site_Map %}
    <a class="link" href="{{ path('loginsuccess') }}">Home</a>
    <a class="link" href="{{ path('item') }}">Item</a>
    <a class="link" >Descriptions</a>
    <span class="link">New Description</span>
{% endblock Site_Map %}

{% set MU = 'item' %}

{% block Tab %}
    <div class="widget-header">
        <h3>Item Descriptions</h3>
    </div> <!-- /widget-header -->



        <form action="#" method="post" {{ form_enctype(form) }} class="form-horizontal">


            <div class="control-group">
                {{ form_label(form.desclang) }}
                <div class="controls" >
                {{ form_widget(form.desclang) }}
                    </div>
            </div>
            <div class="control-group">
                {{ form_label(form.descdesc) }}
                <div class="controls">
                    {{ form_widget(form.descdesc, { 'id': 'texteditor', 'required':'' }) }}
                </div>
            </div>

            <!---------------------------------------------------------------->

            {{ form_rest(form) }}

            <input type="hidden" name="itemid" value="{{ item.id }}"/>

            <div class="form-actions" style="margin-bottom: 0">
                <input type="submit" class="btn btn-primary" value="Add"/>
                <button type="reset" class="btn">Reset</button>
            </div>

        </form>


    <button type="submit" onclick="GOGO()"></button>
    <script type="text/javascript" src="{{ asset('bundles/hellodi/js/libs/Editor/jHtmlArea-0.7.5.js') }}"></script>
    <script type="text/javascript" src="{{ asset('bundles/hellodi/js/libs/Editor/jHtmlArea.ColorPickerMenu-0.7.0.js') }}"></script>
    <script type="text/javascript">
        $(function(){
            var x = "{{ form_errors(form.desclang) }}{{ form_errors(form.descdesc) }}";

            if(x != "")
            {
                messagetop("",x,"error");
            }

            $('#texteditor').htmlarea({
                toolbar: [
                    ["bold", "italic", "underline","strikethrough"]
                    ,
                    ["justifyleft","justifycenter","justifyright"]
                    ,["h1", "h2", "h3"]
                    ,["increasefontsize","decreasefontsize"]
                    ,["orderedList  ","unorderedList  "]
                    ,["horizontalrule","superscript","subscript"]
                    ,["indent","outdent"]
                    ,["forecolor"],
                    [
                        {
                            css: "BorderButton",
                            text: "Add Pin tag",
                            action: function(btn) {
                                var s = this.getSelectedHTML();
                                alert(s);
                                this.pasteHTML('<border style="border:solid 2px #000;padding:5px;" >'+s+'</border>');
                            }
                        }
                    ],
                    [
                        {
                            css: "PinButton Button",
                            text: "Add Pin tag",
                            action: function(btn) {
                                this.pasteHTML('&#123;&#123;pin&#125;&#125;');
                            }
                        },
                        {
                            css: "SerialButton Button",
                            text: "Add Serial tag",
                            action: function(btn) {
                                this.pasteHTML('&#123;&#123;serial&#125;&#125;');
                            }
                        },
                        {
                            css: "ExpireButton Button",
                            text: "Add Expire tag",
                            action: function(btn) {
                                this.pasteHTML('&#123;&#123;expire&#125;&#125;');
                            }
                        }
                    ]
                ]

            });



            $('.jHtmlArea').removeAttr('style');
            $('.jHtmlArea').attr('style','max-width:95%');
            $('.jHtmlArea .ToolBar').removeAttr('style');
            $('.jHtmlArea > div').attr('style','width:100%');
            $('.jHtmlArea > div > iframe').removeAttr('style');
            $('.jHtmlArea > div > iframe').attr('style','min-height: 200px;width:100%');
            $('.jHtmlArea .PinButton').html('Pin');
            $('.jHtmlArea .ExpireButton').html('Expire');
            $('.jHtmlArea .SerialButton').html('Serial');

            /*var x = $("#editform body").html();
             $("#editform").submit(function(e){
             var x = $(".mce-content-body").html();
             e.preventDefault();
             alert(x);
             });*/
        });



    </script>




{% endblock %}



